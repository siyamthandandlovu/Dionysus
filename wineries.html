<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Dionysus Wineries</title>

  <script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js"></script>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="src/style/main.css">
</head>

<body>




  <!--Collapsable Navigation bar-->

  <nav class="navbar navbar-expand-sm bg-body-tertiary px-0 py-0 " data-bs-theme="dark">
    <div class="container-fluid py-2" style="background-color: #722F37;">
      <a class="navbar-brand" href="home.html">Dionysus</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="wines.html">Wines</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="wineries.html">Wineries</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="owners.html">Management</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="about.html">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>



  <h1 class="titleText text-center">Wineries</h1>

  <div id="mainWineriesContent" class=" container text-dark">
    <div class="row px-3">




      <div class="mb-5 col-lg-4" id="left-section">
        <h2 class="text-dark">Province</h2>
        <select id="dropDownProvince" title="Select Province">
          <option value="">Select Province</option>
          <option value="Eastern Cape">Eastern Cape</option>
          <option value="Free State">Free State</option>
          <option value="Gauteng">Gauteng</option>
          <option value="KwaZulu-Natal">KwaZulu-Natal</option>
          <option value="Limpopo">Limpopo</option>
          <option value="Mpumalanga">Mpumalanga</option>
          <option value="North West">North West</option>
          <option value="Northern Cape">Northern Cape</option>
          <option value="Western Cape">Western Cape</option>
        </select>
      </div>






      <div class="col-md-8" id="right-section">
        <div id="wineryList"></div>
        <div id="wineriesContainer"></div>
      </div>



    </div>
  </div>



  <div class="footer">
    <p>CONNECT WITH US</p>
    <a href="#" class="bi bi-linkedin"></a>
    <a href="#" class="bi bi-google"></a>
    <a href="#" class="bi bi-facebook"></a>
    <a href="#" class="bi bi-instagram"></a>
    <a href="#" class="bi bi-twitter"></a>
    <a href="#" class="bi bi-pinterest"></a>
    <br>
    <p class="text-light text-md-center pt-2">Dionysus @2023</p>
    <a href="about.html" class="text-light text-md-center">About</a>
  </div>

  <!--end of divBottom-->
  <script>
    //............................................................
    //FILTERING ACCORDING TO THE VALUES CHANGED IN THE DROP DOWN
    //............................................................

    //first we have a json object that has all winery values
    const allWineryDataDummyValues = [
      {
        "Winery_ID": "1",
        "Name": "Athonij Rupert Wyne",
        "Address": "R45 Wine Route, Franschhoek Valley Groot Drakenstein 7690",
        "City": "Franschhoek",
        "Province": "Western Cape",
        "Website": "https://www.shop.rupertwines.com/",
        "Description": "Anthonij Rupert Wyne was founded on the farm L'Ormarins in Franschhoek and was originally owned by the late Anthonij Rupert. In 2003, his brother Johann Rupert took over the wine farm and the brand named after him.",
        "Image": "https://www.shop.rupertwines.com/images/thumbs/0000449_HOME%20HEADER%20-%20TERRA%20DEL%20CAPO.jpeg"
      },
      {
        "Winery_ID": "2",
        "Name": "Waterford Estate",
        "Address": "Upper Blaauwklippen Rd Stellenbosch, Western Cape 7550, South Africa",
        "City": "Stallenbosch",
        "Province": "Western Cape",
        "Website": "https://www.waterfordestate.co.za/",
        "Description": "Located in the scenic Blaauwklippen Valley in Stellenbosch, South Africa’s most famous wine-producing region, Waterford Estate is renowned for its spectacular views and exceptional wine-tasting experiences.",
        "Image": "https://luxurygoldblog.wpenginepowered.com/wp-content/uploads/2023/05/waterford-estate-1024x686.jpg"
      },
      {
        "Winery_ID": "3",
        "Name": "Marianne Wine Estate",
        "Address": "Valley Road, off the R44 Stellenbosch, Western Cape 7550, South Africa",
        "City": "Stalenbosch",
        "Province": "Western Cape",
        "Website": "http://www.mariannewines.com/",
        "Description": "Marianne Wines is a boutique winery in the Stellenbosch and Paarl area, influenced by French heritage and international savoir-faire.",
        "Image": "https://www.winepaths.com/var/site/storage/images/_aliases/banner-image/0/1/5/1/21510-1-eng-GB/589246e613f83_904804_576121229087981_2112126554_o.jpg"
      },
      {
        "Winery_ID": "4",
        "Name": "Rupert & Rothschild Vignerons",
        "Address": "Klapmuts-Simondium Road, Simondium 7670, Cape Town, South Africa",
        "City": "Cape Town",
        "Province": "Western Cape",
        "Website": "https://rupert-rothschildvignerons.com/",
        "Description": "At the foot of the spectacular Simonsberg mountain in the Franschhoek valley lies the historic French Huguenot farm Fredericksburg, established in 1690 and now home to Rupert & Rothschild Vignerons.",
        "Image": "https://www.winepaths.com/var/site/storage/images/_aliases/front-gallery/0/8/8/5/75880-1-eng-GB/597b1f2d5fdb7_TX9A3679.jpg"
      },
      {
        "Winery_ID": "5",
        "Name": "Klein Constantia Estate",
        "Address": "37 Klein Constantia Road Constantia 7708",
        "City": "Cape Town",
        "Province": "Western Cape",
        "Website": "https://www.kleinconstantia.com/",
        "Description": "Described as one of the world's most beautiful vineyards, Klein Constantia is set amidst ancient trees and lush greenery on the upper foothills of the Constantiaberg, with superb views across the Constantia Valley and False Bay.",
        "Image": "https://www.kleinconstantia.com/wp-content/gallery/gallery/Klein-Constantia_0010.jpg"
      },
      {
        "Winery_ID": "6",
        "Name": "Mont Rochelle Hotel & Vineyard",
        "Address": "Address 6",
        "City": "City 6",
        "Province": "Mpumalanga",
        "Website": true,
        "Description": "Mont Rochelle, a stunning 26-bedroom hotel and vineyard in Franschooek, just under one hour’s drive from Cape Town. This traditional vineyard town is famously known as the French Corner and is considered to be the food and wine capital of South Africa.",
        "Image": "https://images.unsplash.com/photo-1602170284347-f9c28856f149?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1031&q=80"
      },
      {
        "Winery_ID": "7",
        "Name": "Winery 7",
        "Address": "Address 7",
        "City": "City 7",
        "Province": "Limpopo",
        "Website": false,
        "Description": "Description 7",
        "Image": "https://images.unsplash.com/photo-1515779122185-2390ccdf060b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80"
      },
      {
        "Winery_ID": "8",
        "Name": "Winery 8",
        "Address": "Address 8",
        "City": "City 8",
        "Province": "North West",
        "Website": true,
        "Description": "Description 8",
        "Image": "https://images.unsplash.com/photo-1542159919831-40fb0656b45a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTd8fHN1bnNldHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60"
      },
      {
        "Winery_ID": "9",
        "Name": "Winery 9",
        "Address": "Address 9",
        "City": "City 9",
        "Province": "Free State",
        "Website": true,
        "Description": "Description 9",
        "Image": "https://images.unsplash.com/photo-1475924156734-496f6cac6ec1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MzJ8fHN1bnNldHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60"
      },
      {
        "Winery_ID": "10",
        "Name": "Winery 10",
        "Address": "Address 10",
        "City": "City 10",
        "Province": "Eastern Cape",
        "Website": false,
        "Description": "Description 10",
        "Image": "https://images.unsplash.com/photo-1682687220566-5599dbbebf11?ixlib=rb-4.0.3&ixid=M3wxMjA3fDF8MHxzZWFyY2h8NDJ8fHN1bnNldHxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60"
      }

    ]//end of allWineriesDummyValues variable
    var allWineries = allWineryDataDummyValues;

    function loadAllDataOnLoad() {

      var container = document.getElementById('wineriesContainer');



      allWineries.forEach(function (winery) {
        var wineryDiv = document.createElement('div');
        wineryDiv.className = 'winery container pb-5';

        var nameElement = document.createElement('h3');
        nameElement.className = 'winery-name text-dark';
        nameElement.textContent = winery.Name;
        wineryDiv.appendChild(nameElement);

        var imageElement = document.createElement('img');
        imageElement.className = 'winery-image img-fluid col-lg-12';
        imageElement.src = winery.Image;
        wineryDiv.appendChild(imageElement);

        var addressElement = document.createElement('p');
        addressElement.className = 'text-dark';
        addressElement.textContent = 'Address: ' + winery.Address;
        wineryDiv.appendChild(addressElement);

        var cityElement = document.createElement('p');
        cityElement.className = 'text-dark';
        cityElement.textContent = 'City: ' + winery.City;
        wineryDiv.appendChild(cityElement);

        var provinceElement = document.createElement('p');
        provinceElement.className = 'text-dark';
        provinceElement.textContent = 'Province: ' + winery.Province;
        wineryDiv.appendChild(provinceElement);

        container.appendChild(wineryDiv);
      });


    }

    loadAllDataOnLoad();

    var provinceDropdown = document.getElementById("dropDownProvince");
    provinceDropdown.addEventListener("change", updateCities);

    function updateCities() {
      var cityDropdown = document.getElementById("dropDownCity");
      var province = provinceDropdown.value;


      wineryList.innerHTML = "";


      if (province === "") {
        return;
      }
      else //otherwise you have to load all the values in the city
      {


        selectedProvince = province;
        //winery has name , addresss, city , province,zip code,country

        var selectWineryValues = [];
        //now for every winery meeting our criteria, add it to the selectWineryValues var
        for (var i = 0; i < allWineries.length; i++) {
          var winery = allWineries[i];
          if (winery.Province === selectedProvince) {
            selectWineryValues.push(winery)
            var wineryInfo = document.createElement("p");
            wineryInfo.textContent = "Winery ID: " + winery.Winery_ID + ", Name: " + winery.Name + ", Address: " + winery.Address + ", City: " + winery.City + ", Province: " + winery.Province;
            //wineryList.appendChild(wineryInfo);
            console.log(wineryInfo);
          }
        }

        var container = document.getElementById('wineriesContainer');
        //first - before anything else - clear all the content in this div
        container.innerHTML = '';


        selectWineryValues.forEach(function (winery) {
          var wineryDiv = document.createElement('div');
          wineryDiv.className = 'winery container pb-5';

          var nameElement = document.createElement('h3');
          nameElement.className = 'winery-name text-dark';
          nameElement.textContent = winery.Name;
          wineryDiv.appendChild(nameElement);

          var imageElement = document.createElement('img');
          imageElement.className = 'winery-image img-fluid col-md-12';
          imageElement.src = winery.Image;
          wineryDiv.appendChild(imageElement);

          var addressElement = document.createElement('p');
          addressElement.className = 'text-dark';
          addressElement.textContent = 'Address: ' + winery.Address;
          wineryDiv.appendChild(addressElement);

          var cityElement = document.createElement('p');
          cityElement.className = 'text-dark';
          cityElement.textContent = 'City: ' + winery.City;
          wineryDiv.appendChild(cityElement);

          var provinceElement = document.createElement('p');
          provinceElement.className = 'text-dark';
          provinceElement.textContent = 'Province: ' + winery.Province;
          wineryDiv.appendChild(provinceElement);

          container.appendChild(wineryDiv);
        });
      }
    }//end of updateCities funciton

  </script>
  </div><!--end of the main body div-->
</body>





</html>